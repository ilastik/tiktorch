name: tiktorch-server-env
channels:
  - ilastik-forge
  - pytorch
  - conda-forge
  - defaults
dependencies:
  # - bioimage.spec via submodule
  # - bioimage.core via submodule
  - lapack
  - mypy
  - flake8
  - pickle5
  - python=3.7.*
  - scipy=1.2.*  # 1.3 removed imsave
  - paramiko=2.4.2
  - ruamel.yaml
  - inferno=v0.4.*
  - pillow=6.2.1
  - pyyaml=5.3
  - marshmallow=3.12.*
  - pytest=4.3.0
  - grpcio-tools
  - xarray>=0.16
  - protobuf
  - cudatoolkit>=10.1,<10.2
  - numpy=1.18.5
  - cudnn
  - black
  - isort
  - conda-build
  - anaconda-client
  - bump2version
  - pre_commit
  - scikit-learn
  - marshmallow-union
  - git
  - typing-extensions
  # pinned dependencies to avoid unistallations by pip:
  - h5py<=3.1.0
  - six<=1.15
  - pip>=19
  - grpcio>=1.31,<=1.40.0

  - pip:
  #     - onnxruntime
      - pytest-grpc==0.7.0
  #     - tensorflow

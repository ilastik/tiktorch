name: tiktorch-server-env
channels:
  - ilastik-forge/label/freepy
  - pytorch
  - conda-forge
dependencies:
  # - bioimage.spec via submodule
  # - bioimage.core via submodule
  - lapack
  - mypy
  - flake8
  - python=3.9.*
  - scipy
  - ruamel.yaml
  - inferno=v0.4.*
  - pyyaml=5.3
  - marshmallow=3.12.*
  - pytest
  - grpcio-tools
  - xarray>=0.16
  - pytorch>=1.6
  - protobuf
  - cudatoolkit>=10.1,<11.2
  - numpy=1.19.*
  - cudnn
  - black
  - isort
  - conda-build
  - anaconda-client
  - bump2version
  - pre_commit
  - scikit-learn
  - marshmallow-union
  - typing-extensions
  # pinned dependencies to avoid unistallations by pip:
  - h5py<=3.1.0
  - six<=1.15
  - pip>=19
  - grpcio>=1.31,<=1.40.0
  - pytorch
  - cpuonly
  - pytest-grpc
